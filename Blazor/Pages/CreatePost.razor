@page "/CreatePost"

@using Blazor.Data;
@inject ApiService postService

@using shared.Model;

<h2>Here you can create new content by making a new post! :D</h2>
<h6>Remember to reload page when posting new content</h6>


<div class="input-group flex-nowrap">
    <span class="input-group-text" id="addon-wrapping"></span>
    <input type="text" class="form-control" @bind-value="@inputPost.Author" placeholder="Author" aria-label="Author" aria-describedby="addon-wrapping">
</div>
<div class="input-group flex-nowrap">
    <span class="input-group-text" id="addon-wrapping"><Title></Title></span>
    <input type="text" @bind-value="@inputPost.Title" placeholder= "Title" class="form-control" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-lg">
</div>
<div class="form-floating">
    <input class="form-control" @bind-value="@inputPost.Content" placeholder="Content" id="floatingTextarea2" style="height: 100px"></input>
    <label for="floatingTextarea2">Content</label>
</div>

<a href="#" @onclick="() => CreateNewPost(inputPost)" class="btn btn-primary">Post</a>
@code {

    private Post[] posts;

    private InputPost inputPost  = new InputPost ();

    private void CreateNewPost(InputPost post)
    {
        postService.CreatePost(post);

    }
}